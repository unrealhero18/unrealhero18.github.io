{"version":3,"sources":["webpack:///./src/views/SignUp.vue","webpack:///./src/views/SignUp.vue?0f39","webpack:///./node_modules/core-js/modules/es.array.join.js"],"names":["class","type","register","autocomplete","name","placeholder","required","form","email","pattern","password","confirmPassword","title","to","errors","toString","this","join","components","FormControl","FormRow","data","methods","validate","length","firebase","auth","createUserWithEmailAndPassword","then","user","UPDATE_USER","$router","replace","catch","err","TOGGLE_BASE_MODAL","buttonResolve","text","message","indexOf","push","render","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","undefined"],"mappings":"4IACOA,MAAM,0B,EACT,eAAoC,MAAhCA,MAAM,eAAc,WAAO,G,EAsBzB,eAEO,QAFDA,MAAM,YAAW,kEAEvB,G,EA6BF,eAKS,UAJPA,MAAM,oDACNC,KAAK,UACN,cAED,G,GAICD,MAAM,e,iBAKR,W,kJApEL,eAwEM,MAxEN,EAwEM,CAvEJ,EAEA,eA0DO,QAzDLA,MAAM,aACL,SAAM,8CAAU,EAAAE,UAAA,EAAAA,SAAA,qBAAQ,e,CAEzB,eAYW,Q,wBAXT,iBAUe,CAVf,eAUe,Q,wBATb,iBAQC,C,eARD,eAQC,SAPCC,aAAa,QACbH,MAAM,aACNI,KAAK,QACLC,YAAY,gBACZC,SAAA,GACAL,KAAK,Q,qDACI,EAAAM,KAAKC,MAAK,K,mBAAV,EAAAD,KAAKC,a,gBAKpB,eAiBW,Q,wBAhBT,iBAee,CAff,eAee,Q,wBAdb,iBAEO,CAFP,E,eAIA,eASC,SARCL,aAAa,eACbH,MAAM,aACNI,KAAK,WACLK,QAAQ,uDACRJ,YAAY,WACZC,SAAA,GACAL,KAAK,W,qDACI,EAAAM,KAAKG,SAAQ,K,mBAAb,EAAAH,KAAKG,gB,gBAKpB,eAWW,Q,wBAVT,iBASe,CATf,eASe,Q,wBARb,iBAOC,C,eAPD,eAOC,SANCP,aAAa,eACbH,MAAM,aACNI,KAAK,kBACLC,YAAY,mBACZJ,KAAK,W,qDACI,EAAAM,KAAKI,gBAAe,K,mBAApB,EAAAJ,KAAKI,uB,gBAKpB,eAOW,Q,wBANT,iBAKS,CALT,M,WASJ,eAQM,MARN,EAQM,CAPJ,eAMc,GALZX,MAAM,aACNY,MAAM,qBACNC,GAAG,U,yBACJ,iBAED,C,8GAUFC,EAAS,GAEbA,EAAOC,SAAW,WAChB,OAAOC,KAAKC,KAAK,SAGJ,OACbb,KAAM,SACNc,WAAY,CACVC,YAAA,OACAC,QAAA,QAEFC,KANa,WAOX,MAAO,CACLd,KAAM,CACJC,MAAO,KACPE,SAAU,KACVC,gBAAiB,QAIvBW,QAAS,iCACJ,eAAa,CAAC,oBAAqB,iBADjC,IAELpB,SAFO,WAEK,WACV,EAA4Bc,KAAKT,KAAzBC,EAAR,EAAQA,MAAOE,EAAf,EAAeA,SAEfM,KAAKO,WAEiB,IAAlBT,EAAOU,OACTC,EAAA,KACGC,OACAC,+BAA+BnB,EAAOE,GACtCkB,MAAK,YAAc,IAAXC,EAAW,EAAXA,KACP,EAAKC,YAAYD,GACjB,EAAKE,QAAQC,QAAQ,QAEtBC,OAAM,SAAAC,GACL,EAAKC,kBAAkB,CACrBC,cAAe,KACfC,KAAMH,EAAII,QACV1B,MAAO,aAIbI,KAAKmB,kBAAkB,CACrBC,cAAe,KACfC,KAAMvB,EAAOC,WACbH,MAAO,WAIbW,SA9BO,WA+BL,MAA6CP,KAAKT,KAA1CI,EAAR,EAAQA,gBAAiBH,EAAzB,EAAyBA,MAAOE,EAAhC,EAAgCA,SAEhCI,EAAOU,OAAS,EAEZhB,IAA2C,IAAlCA,EAAM+B,QAAQ,gBACzBzB,EAAO0B,KAAK,4BAGV7B,IAAoBD,GACtBI,EAAO0B,KAAK,yBC3IpB,EAAOC,OAASA,EAED,gB,kCCJf,IAAIC,EAAI,EAAQ,QACZC,EAAgB,EAAQ,QACxBC,EAAkB,EAAQ,QAC1BC,EAAsB,EAAQ,QAE9BC,EAAa,GAAG7B,KAEhB8B,EAAcJ,GAAiBK,OAC/BC,EAAgBJ,EAAoB,OAAQ,KAIhDH,EAAE,CAAEQ,OAAQ,QAASC,OAAO,EAAMC,OAAQL,IAAgBE,GAAiB,CACzEhC,KAAM,SAAcoC,GAClB,OAAOP,EAAWQ,KAAKV,EAAgB5B,WAAqBuC,IAAdF,EAA0B,IAAMA","file":"js/chunk-1c1b3664.a1a04f07.js","sourcesContent":["<template>\n  <div class=\"sign-up auth container\">\n    <h1 class=\"auth__title\">Sign Up</h1>\n\n    <form\n      class=\"auth__form\"\n      @submit.prevent=\"register\"\n    >\n      <form-row>\n        <form-control>\n          <input\n            autocomplete=\"email\"\n            class=\"form-field\"\n            name=\"email\"\n            placeholder=\"Email address\"\n            required\n            type=\"email\"\n            v-model=\"form.email\"\n          >\n        </form-control>\n      </form-row>\n\n      <form-row>\n        <form-control>\n          <span class=\"form-tip\">\n            Minimum eight characters, at least one letter and one number\n          </span>\n\n          <input\n            autocomplete=\"new-password\"\n            class=\"form-field\"\n            name=\"password\"\n            pattern=\"^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$\"\n            placeholder=\"Password\"\n            required\n            type=\"password\"\n            v-model=\"form.password\"\n          >\n        </form-control>\n      </form-row>\n\n      <form-row>\n        <form-control>\n          <input\n            autocomplete=\"new-password\"\n            class=\"form-field\"\n            name=\"confirmPassword\"\n            placeholder=\"Confirm password\"\n            type=\"password\"\n            v-model=\"form.confirmPassword\"\n          >\n        </form-control>\n      </form-row>\n\n      <form-row>\n        <button\n          class=\"form-button form-button--submit auth__form-submit\"\n          type=\"submit\"\n        >\n          Register\n        </button>\n      </form-row>\n    </form>\n\n    <div class=\"auth__links\">\n      <router-link\n        class=\"auth__link\"\n        title=\"Login into account\"\n        to=\"/login\"\n      >\n        Login\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport firebase from '@/firebase'\nimport { FormControl, FormRow } from '@/components/form'\n\nlet errors = [];\n// overwrite native `toString` method to show error per line\nerrors.toString = function() {\n  return this.join('\\r\\n');\n};\n\nexport default {\n  name: 'SignUp',\n  components: {\n    FormControl,\n    FormRow\n  },\n  data () {\n    return {\n      form: {\n        email: null,\n        password: null,\n        confirmPassword: null\n      }\n    }\n  },\n  methods: {\n    ...mapMutations(['TOGGLE_BASE_MODAL', 'UPDATE_USER']),\n    register () {\n      const { email, password } = this.form;\n      // validate form after submit\n      this.validate();\n      // register if no errors, otherwise show errors list\n      if (errors.length === 0) {\n        firebase\n          .auth()\n          .createUserWithEmailAndPassword(email, password)\n          .then(({ user }) => {\n            this.UPDATE_USER(user);\n            this.$router.replace('/');\n          })\n          .catch(err => {\n            this.TOGGLE_BASE_MODAL({\n              buttonResolve: 'Ok',\n              text: err.message,\n              title: 'Error'\n            });\n          });\n      } else {\n        this.TOGGLE_BASE_MODAL({\n          buttonResolve: 'Ok',\n          text: errors.toString(),\n          title: 'Error'\n        });\n      }\n    },\n    validate () {\n      const { confirmPassword, email, password } = this.form;\n      // flush array\n      errors.length = 0;\n\n      if (email && email.indexOf('example.com') !== -1) {\n        errors.push('Please use a real domain');\n      }\n\n      if (confirmPassword !== password) {\n        errors.push('Password mismatch');\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./SignUp.vue?vue&type=template&id=91684fe4\"\nimport script from \"./SignUp.vue?vue&type=script&lang=js\"\nexport * from \"./SignUp.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n"],"sourceRoot":""}