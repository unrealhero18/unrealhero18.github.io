(function(e){function t(t){for(var n,r,i=t[0],l=t[1],u=t[2],s=0,d=[];s<i.length;s++)r=i[s],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&d.push(c[r][0]),c[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);b&&b(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var i=a[r];0!==c[i]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={app:0},c={app:0},o=[];function i(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-1c1b3664":"a1a04f07","chunk-2d2086b7":"d33e9802","chunk-5523f488":"1e257e01","chunk-6ea8a0f8":"440ca8fa"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-5523f488":1,"chunk-6ea8a0f8":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-1c1b3664":"31d6cfe0","chunk-2d2086b7":"31d6cfe0","chunk-5523f488":"bc188726","chunk-6ea8a0f8":"71f2288a"}[e]+".css",c=l.p+n,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],s=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===n||s===c))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],s=u.getAttribute("data-href");if(s===n||s===c)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var n=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete r[e],b.parentNode.removeChild(b),a(o)},b.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(b)})).then((function(){r[e]=0})));var n=c[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=c[e]=[t,a]}));t.push(n[2]=o);var u,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=i(e);var d=new Error;u=function(t){s.onerror=s.onload=null,clearTimeout(b);var a=c[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}c[e]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:s})}),12e4);s.onerror=s.onload=u,document.head.appendChild(s)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var b=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0916":function(e,t,a){},1234:function(e,t,a){"use strict";a("cf59")},1924:function(e,t,a){"use strict";a("5369")},"1e0d":function(e,t,a){"use strict";a("d94a")},2464:function(e,t,a){"use strict";a("c0af")},"271d":function(e,t,a){},2799:function(e,t,a){e.exports=a.p+"img/icon-caret-down.d8386c28.svg"},"27b2":function(e,t,a){"use strict";a("0916")},"28ce":function(e,t,a){},"2d30":function(e,t,a){},"2e1b":function(e,t,a){e.exports=a.p+"img/icon-caret-right.2e6f21c2.svg"},3865:function(e,t,a){"use strict";var n=a("7a23"),r=Object(n["J"])("data-v-3eb56442");Object(n["t"])("data-v-3eb56442");var c={class:"status__text"};Object(n["r"])();var o=r((function(e,t,a,r,o,i){return Object(n["q"])(),Object(n["e"])("div",{class:["status",["status--".concat(a.status)]]},[Object(n["h"])("span",c,Object(n["A"])(a.status),1)],2)})),i={name:"Status",props:{status:{required:!0,type:String}}};a("b7cf");i.render=o,i.__scopeId="data-v-3eb56442";t["a"]=i},4082:function(e,t,a){"use strict";a("45f3")},4326:function(e,t,a){"use strict";a("2d30")},"45f3":function(e,t,a){},"4b00":function(e,t,a){e.exports=a.p+"img/icon-cloud.1f65540a.svg"},5369:function(e,t,a){},"555f":function(e,t,a){"use strict";var n=a("7a23"),r=Object(n["J"])("data-v-1d41b710");Object(n["t"])("data-v-1d41b710");var c={class:"loader"},o=Object(n["h"])("div",{class:"loader__spinner"},null,-1);Object(n["r"])();var i=r((function(e,t,a,r,i,l){return Object(n["q"])(),Object(n["e"])("div",c,[o])})),l={name:"Loader"};a("4326");l.render=i,l.__scopeId="data-v-1d41b710";t["a"]=l},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),r=Object(n["J"])("data-v-4256f4aa");Object(n["t"])("data-v-4256f4aa");var c={class:"app"},o={class:"app-content"};Object(n["r"])();var i=r((function(e,t,a,i,l,u){var s=Object(n["y"])("app-header"),d=Object(n["y"])("base-modal"),b=Object(n["y"])("travel-form"),f=Object(n["y"])("loader"),O=Object(n["y"])("router-view");return Object(n["q"])(),Object(n["e"])("div",c,[Object(n["h"])(s),Object(n["h"])("div",o,[e.baseModal?(Object(n["q"])(),Object(n["e"])(d,{key:0})):Object(n["f"])("",!0),Object(n["h"])(n["b"],{name:"travel-form-modal"},{default:r((function(){return[e.travelFormModal?(Object(n["q"])(),Object(n["e"])(b,{key:0})):Object(n["f"])("",!0)]})),_:1}),l.isLoading?(Object(n["q"])(),Object(n["e"])(f,{key:1})):(Object(n["q"])(),Object(n["e"])(O,{key:2}))])])})),l=a("5530"),u=(a("ac1f"),a("5319"),a("5502")),s=a("dc59"),d=a("cf05"),b=a.n(d),f=Object(n["J"])("data-v-58b0959e");Object(n["t"])("data-v-58b0959e");var O={class:"header"},m={class:"header__start"},v={class:"logo"},j=Object(n["h"])("img",{alt:"Travel Planner Logo",class:"logo__image",src:b.a},null,-1),h={class:"header__end"};Object(n["r"])();var p=f((function(e,t,a,r,c,o){var i=Object(n["y"])("router-link"),l=Object(n["y"])("user"),u=Object(n["y"])("mobile-menu");return Object(n["q"])(),Object(n["e"])("header",O,[Object(n["h"])("div",m,[Object(n["h"])("div",v,[Object(n["h"])(i,{class:"logo__link",title:"Travel Planner",to:o.logoLink},{default:f((function(){return[j]})),_:1},8,["to"])])]),Object(n["h"])("div",h,[e.isAuthenticated?(Object(n["q"])(),Object(n["e"])(u,{key:0},{default:f((function(){return[Object(n["h"])(l)]})),_:1})):Object(n["f"])("",!0)])])})),_=Object(n["J"])("data-v-e304f9e6");Object(n["t"])("data-v-e304f9e6");var g={class:"mobile-menu"};Object(n["r"])();var E=_((function(e,t,a,r,c,o){return Object(n["q"])(),Object(n["e"])("div",g,[Object(n["h"])("button",{class:"mobile-menu__trigger",type:"button",onClick:t[1]||(t[1]=function(){return o.toggleMenu&&o.toggleMenu.apply(o,arguments)})}," Hamburger Menu "),Object(n["h"])("div",{class:["mobile-menu__content",{"mobile-menu__content--hide":!e.mobileMenu}],ref:"content"},[Object(n["x"])(e.$slots,"default",{},void 0,!0)],2)])})),y={name:"MobileMenu",computed:Object(l["a"])({},Object(u["d"])(["mobileMenu"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["c"])(["TOGGLE_MOBILE_MENU"])),{},{toggleMenu:function(){this.TOGGLE_MOBILE_MENU()}})};a("fe83");y.render=E,y.__scopeId="data-v-e304f9e6";var T=y,A=Object(n["J"])("data-v-d7f1c848");Object(n["t"])("data-v-d7f1c848");var M={class:"user"},L={class:"user__navigation"},D=Object(n["g"])(" Home "),k=Object(n["g"])(" About ");Object(n["r"])();var R=A((function(e,t,a,r,c,o){var i=Object(n["y"])("router-link");return Object(n["q"])(),Object(n["e"])("div",M,[Object(n["H"])(Object(n["h"])("h2",{class:"user__greeting"}," Welcome, "+Object(n["A"])(o.userName)+"! ",513),[[n["E"],o.userName]]),Object(n["h"])("div",L,[Object(n["h"])(i,{class:"user__link",title:"Go to Home page",to:"/",onClick:o.handleLinkClick},{default:A((function(){return[D]})),_:1},8,["onClick"]),Object(n["h"])(i,{class:"user__link",title:"Go to About page",to:"/about",onClick:o.handleLinkClick},{default:A((function(){return[k]})),_:1},8,["onClick"])]),Object(n["h"])("button",{class:"user__logout",type:"button",onClick:t[1]||(t[1]=function(){return o.logout&&o.logout.apply(o,arguments)})}," Logout ")])})),C=(a("1276"),{name:"User",computed:Object(l["a"])(Object(l["a"])({},Object(u["d"])(["me","mobileMenu"])),{},{userName:function(){var e,t=null===(e=this.me)||void 0===e?void 0:e.email;return"string"===typeof t?t.split("@")[0]:null}}),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(u["b"])(["TERMINATE_SESSION"])),Object(u["c"])(["TOGGLE_BASE_MODAL","TOGGLE_MOBILE_MENU"])),{},{handleLinkClick:function(){this.mobileMenu&&this.TOGGLE_MOBILE_MENU()},logout:function(){var e=this;this.me&&s["a"].auth().signOut().then((function(){e.TERMINATE_SESSION(),e.$router.replace("/login")})).catch((function(t){e.TOGGLE_BASE_MODAL({buttonResolve:"Ok",text:t.message,title:"Error"})}))}})});a("9d06");C.render=R,C.__scopeId="data-v-d7f1c848";var S=C,w={name:"AppHeader",components:{MobileMenu:T,User:S},computed:Object(l["a"])(Object(l["a"])({},Object(u["d"])(["isAuthenticated"])),{},{logoLink:function(){return this.isAuthenticated?"/":"/login"}})};a("8129");w.render=p,w.__scopeId="data-v-58b0959e";var x=w,q=Object(n["J"])("data-v-66b667ad");Object(n["t"])("data-v-66b667ad");var V={class:"modal"},G={class:"modal__content"},I={class:"modal__title"},F={class:"modal__text"},P={class:"modal__actions"};Object(n["r"])();var N=q((function(e,t,a,r,c,o){return Object(n["q"])(),Object(n["e"])("div",V,[Object(n["h"])("div",G,[Object(n["h"])("h2",I,Object(n["A"])(e.baseModal.title),1),Object(n["h"])("p",F,Object(n["A"])(e.baseModal.text),1),Object(n["h"])("div",P,[e.baseModal.buttonReject?(Object(n["q"])(),Object(n["e"])("button",{key:0,class:"modal__button modal__button--reject",type:"button",onClick:t[1]||(t[1]=function(){return o.handleReject&&o.handleReject.apply(o,arguments)})},Object(n["A"])(e.baseModal.buttonReject),1)):Object(n["f"])("",!0),Object(n["h"])("button",{class:"modal__button modal__button--accept",type:"button",onClick:t[2]||(t[2]=function(){return o.handleResolve&&o.handleResolve.apply(o,arguments)})},Object(n["A"])(e.baseModal.buttonResolve||"Ok"),1)])])])})),U={name:"Modal",computed:Object(l["a"])({},Object(u["d"])(["baseModal"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["c"])(["TOGGLE_BASE_MODAL"])),{},{handleReject:function(){this.TOGGLE_BASE_MODAL(null)},handleResolve:function(){var e=this.baseModal.onResolve;"function"===typeof e&&e(),this.handleReject()}})};a("2464");U.render=N,U.__scopeId="data-v-66b667ad";var B=U,H=a("555f"),J=(a("b0c0"),Object(n["J"])("data-v-71e3f40e"));Object(n["t"])("data-v-71e3f40e");var $={class:"travel-form-modal"},X={class:"travel-form__title"},z={key:0},K={key:1},Y=Object(n["h"])("option",{disabled:""},"Please select a country",-1),W={class:"travel-form__actions"},Z={class:"form-button form-button--submit",type:"submit"},Q={key:0},ee={key:1};Object(n["r"])();var te=J((function(e,t,a,r,c,o){var i=Object(n["y"])("form-control"),l=Object(n["y"])("form-row"),u=Object(n["y"])("loader");return Object(n["q"])(),Object(n["e"])("div",$,[Object(n["h"])("div",{class:"travel-form-modal__backdrop",onClick:t[1]||(t[1]=function(){return o.handleDiscard&&o.handleDiscard.apply(o,arguments)})}),Object(n["h"])("form",{class:"travel-form",onSubmit:t[8]||(t[8]=Object(n["I"])((function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["h"])("h2",X,[e.travelCurrent?(Object(n["q"])(),Object(n["e"])("span",K,"Edit travel")):(Object(n["q"])(),Object(n["e"])("span",z,"New travel"))]),Object(n["h"])(l,null,{default:J((function(){return[Object(n["h"])(i,{label:"Travel name",name:"name"},{default:J((function(){return[Object(n["H"])(Object(n["h"])("input",{class:"form-field",id:"name",name:"name",minlength:"3",required:"",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.form.name=e})},null,512),[[n["D"],c.form.name]])]})),_:1}),Object(n["h"])(i,{label:"Place to travel",name:"destination"},{default:J((function(){return[Object(n["H"])(Object(n["h"])("select",{class:"form-field form-field--select",id:"destination",name:"destination",required:"","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.form.destination=e})},[Y,(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(e.countries,(function(e,t){return Object(n["q"])(),Object(n["e"])("option",{key:t,value:t},Object(n["A"])(e),9,["value"])})),128))],512),[[n["C"],c.form.destination]])]})),_:1})]})),_:1}),Object(n["h"])(l,null,{default:J((function(){return[Object(n["h"])(i,{label:"Starting from",name:"startDate"},{default:J((function(){return[Object(n["H"])(Object(n["h"])("input",{class:"form-field form-field--date",id:"startDate",name:"startDate",required:"",type:"date","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.form.startDate=e})},null,512),[[n["D"],c.form.startDate]])]})),_:1}),Object(n["h"])(i,{label:"Ending at",name:"endDate"},{default:J((function(){return[Object(n["H"])(Object(n["h"])("input",{class:"form-field form-field--date",id:"endDate",name:"endDate",required:"",type:"date",disabled:!c.form.startDate,min:c.form.startDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.form.endDate=e})},null,8,["disabled","min"]),[[n["D"],c.form.endDate]])]})),_:1})]})),_:1}),Object(n["h"])(l,null,{default:J((function(){return[Object(n["h"])(i,{label:"Comment",name:"comment"},{default:J((function(){return[Object(n["H"])(Object(n["h"])("textarea",{class:"form-field form-field--textarea",id:"comment",name:"comment",type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.form.comment=e})},null,512),[[n["D"],c.form.comment]])]})),_:1})]})),_:1}),Object(n["h"])("div",W,[Object(n["h"])("button",{class:"form-button form-button--cancel",type:"button",onClick:t[7]||(t[7]=function(){return o.handleDiscard&&o.handleDiscard.apply(o,arguments)})}," Cancel "),Object(n["h"])("button",Z,[e.travelCurrent?(Object(n["q"])(),Object(n["e"])("span",ee,"Update")):(Object(n["q"])(),Object(n["e"])("span",Q,"Create"))])]),Object(n["H"])(Object(n["h"])(u,null,null,512),[[n["E"],c.isLoading]])],32)])})),ae=a("ade3"),ne=a("1da1"),re=(a("96cf"),a("07ac"),a("8a77")),ce=a("dbad"),oe=a("c18b"),ie={name:"TravelForm",components:{FormControl:oe["a"],FormRow:oe["b"],Loader:H["a"]},mixins:[ce["a"]],data:function(){return{isLoading:!1,form:{comment:null,destination:null,endDate:null,name:null,startDate:null}}},created:function(){var e=this.travelCurrent;e&&(this.form=Object(l["a"])({},e))},computed:Object(l["a"])({},Object(u["d"])(["travelCurrent","me"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(u["b"])(["CREATE_TRAVEL","TOGGLE_TRAVEL_FORM_MODAL","UPDATE_TRAVEL"])),Object(u["c"])(["TOGGLE_BASE_MODAL"])),{},{closeForm:function(){this.TOGGLE_TRAVEL_FORM_MODAL()},handleDiscard:function(){var e=this.closeForm,t=this.form,a=Object.values(t).some((function(e){return!!e}));a?this.TOGGLE_BASE_MODAL({buttonReject:"Cancel",buttonResolve:"Ok",onResolve:e,text:"Changes you made may not be saved",title:"Leave form"}):e()},handleSubmit:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var a,n,r,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.form,n=e.me,r=e.travelCurrent,c=n.uid,e.isLoading=!0,r){t.next=8;break}return t.next=6,e.CREATE_TRAVEL(Object(l["a"])(Object(l["a"])({},a),{},{author:c,id:Object(re["a"])(8)}));case 6:t.next=11;break;case 8:return o=r.docId,t.next=11,e.UPDATE_TRAVEL({data:{author:c,comment:a.comment,destination:a.destination,endDate:a.endDate,id:a.id,name:a.name,startDate:a.startDate},docId:o});case 11:e.isLoading=!1,e.closeForm();case 13:case"end":return t.stop()}}),t)})))()}}),watch:Object(ae["a"])({},"form.startDate",(function(){var e=this.form,t=e.endDate,a=e.startDate;t&&a>t&&(this.form.endDate="")}))};a("1234");ie.render=te,ie.__scopeId="data-v-71e3f40e";var le=ie,ue={name:"App",components:{AppHeader:x,BaseModal:B,Loader:H["a"],TravelForm:le},beforeMount:function(){var e=this;s["a"].auth().onAuthStateChanged((function(t){var a;(e.isLoading=!0,t)?(e.UPDATE_USER({email:t.email,uid:t.uid}),e.GET_TRAVELS().then((function(){e.isLoading=!1}))):(e.isLoading=!1,null!==(a=e.$route.meta)&&void 0!==a&&a.auth&&(e.TERMINATE_SESSION(),e.$router.replace("/login")))}))},data:function(){return{isLoading:!0}},computed:Object(l["a"])({},Object(u["d"])(["baseModal","travelFormModal"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["GET_TRAVELS","TERMINATE_SESSION"])),Object(u["c"])(["UPDATE_USER"]))};a("1e0d"),a("aa813");ue.render=i,ue.__scopeId="data-v-4256f4aa";var se=ue,de=(a("d3b7"),a("3ca3"),a("ddb0"),a("6c02")),be={class:"home container"},fe={class:"home__content"};function Oe(e,t,a,r,c,o){var i=Object(n["y"])("home-header"),l=Object(n["y"])("travels-list"),u=Object(n["y"])("home-footer");return Object(n["q"])(),Object(n["e"])("div",be,[Object(n["h"])("div",fe,[Object(n["h"])(i,{filteredTravelsCount:o.filteredTravelsData.length,filterValue:c.filterValue,setFilterValue:o.setFilterValue,travelsCount:e.travelsData.length},null,8,["filteredTravelsCount","filterValue","setFilterValue","travelsCount"]),Object(n["h"])(l,{travelsData:o.filteredTravelsData},null,8,["travelsData"]),Object(n["h"])(u,{printMonthPlan:o.printMonthPlan,travelsCount:e.travelsData.length},null,8,["printMonthPlan","travelsCount"])])])}a("4de4");var me=a("7a0f"),ve=a.n(me),je=Object(n["J"])("data-v-a034ab34");Object(n["t"])("data-v-a034ab34");var he={class:"home-footer"},pe=Object(n["h"])("img",{alt:"Print",class:"print-button__icon",src:ve.a},null,-1),_e=Object(n["h"])("span",{class:"print-button__text"},"Plan for next month",-1);Object(n["r"])();var ge=je((function(e,t,a,r,c,o){return Object(n["H"])((Object(n["q"])(),Object(n["e"])("footer",he,[Object(n["h"])("button",{class:"print-button",type:"button",onClick:t[1]||(t[1]=function(){return a.printMonthPlan&&a.printMonthPlan.apply(a,arguments)})},[pe,_e])],512)),[[n["E"],a.travelsCount]])})),Ee=(a("a9e3"),{name:"HomeFooter",props:{printMonthPlan:{required:!0,type:Function},travelsCount:{required:!0,type:Number}}});a("f8ce");Ee.render=ge,Ee.__scopeId="data-v-a034ab34";var ye=Ee,Te=a("2799"),Ae=a.n(Te),Me=a("a3b7"),Le=a.n(Me),De=Object(n["J"])("data-v-6597a710");Object(n["t"])("data-v-6597a710");var ke={class:"header"},Re={class:"header__side header__side--start"},Ce=Object(n["h"])("h1",{class:"header__title"},"Travels",-1),Se={class:"header__subtitle"},we={class:"header__side header__side--end"},xe={class:"filter__toggle-text"},qe=Object(n["h"])("img",{alt:"Down",class:"filter__toggle-icon",src:Ae.a},null,-1),Ve=Object(n["h"])("li",{class:"filter__menu-item filter__menu-item--reset"},"Reset",-1),Ge=Object(n["h"])("img",{alt:"Add",class:"add-button__icon",src:Le.a},null,-1),Ie=Object(n["h"])("span",{class:"add-button__text"},"New Travel",-1);Object(n["r"])();var Fe=De((function(e,t,a,r,c,o){return Object(n["q"])(),Object(n["e"])("header",ke,[Object(n["h"])("div",Re,[Ce,Object(n["h"])("span",Se,Object(n["A"])(o.subtitle),1)]),Object(n["h"])("div",we,[Object(n["h"])("div",{class:["filter header__filter",{"filter--is-open":c.isFilterMenu}],ref:"filter"},[Object(n["H"])(Object(n["h"])("button",{class:"filter__toggle",type:"button",onClick:t[1]||(t[1]=function(){return o.filterMenuToggle&&o.filterMenuToggle.apply(o,arguments)})},[Object(n["h"])("span",xe,"Filter by "+Object(n["A"])(o.filterBy),1),qe],512),[[n["E"],a.travelsCount]]),Object(n["h"])("ul",{class:"filter__menu",onClick:t[2]||(t[2]=function(){return o.handleFilterClick&&o.handleFilterClick.apply(o,arguments)})},[(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(c.filterMapping,(function(e,t){return Object(n["q"])(),Object(n["e"])("li",{class:["filter__menu-item",{"filter__menu-item--active":t===a.filterValue}],key:t,"data-value":t},Object(n["A"])(e),11,["data-value"])})),128)),Ve])],2),Object(n["h"])("button",{class:"add-button header__button",type:"button",onClick:t[3]||(t[3]=function(){return o.newTravel&&o.newTravel.apply(o,arguments)})},[Ge,Ie])])])})),Pe={name:"HomeHeader",props:{filteredTravelsCount:{required:!0,type:Number},filterValue:{default:void 0,required:!1,type:String},setFilterValue:{required:!0,type:Function},travelsCount:{required:!0,type:Number}},data:function(){return{filterMapping:{current:"Current",next:"Coming",past:"Happened"},isFilterMenu:!1}},computed:{filterBy:function(){var e=this.filterMapping,t=this.filterValue;return t?e[t]:""},subtitle:function(){var e=this.filteredTravelsCount;return e>0?"Total travel: ".concat(e):"So far there are no travels here"}},methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["TOGGLE_TRAVEL_FORM_MODAL"])),{},{filterMenuOutsideClick:function(e){var t=e.target;this.$refs.filter.contains(t)||(this.isFilterMenu=!1)},filterMenuToggle:function(){this.isFilterMenu=!this.isFilterMenu},handleFilterClick:function(e){var t=e.target,a=t.dataset.value;this.filterMenuToggle(),this.setFilterValue(a)},newTravel:function(){this.TOGGLE_TRAVEL_FORM_MODAL()}}),watch:{isFilterMenu:function(e){e?window.addEventListener("click",this.filterMenuOutsideClick):window.removeEventListener("click",this.filterMenuOutsideClick)}}};a("1924");Pe.render=Fe,Pe.__scopeId="data-v-6597a710";var Ne=Pe,Ue=a("4b00"),Be=a.n(Ue),He=Object(n["J"])("data-v-143e8bba");Object(n["t"])("data-v-143e8bba");var Je={class:"travels"},$e={key:0,class:"travels__rows"},Xe={key:1,class:"travels__fallback"},ze=Object(n["h"])("img",{alt:"Empty",class:"travels__fallback-image",src:Be.a},null,-1),Ke=Object(n["h"])("h3",{class:"travels__fallback-title"},"So far it's empty",-1),Ye=Object(n["h"])("p",{class:"travels__fallback-text"},"Please add your travels to proceed…",-1);Object(n["r"])();var We=He((function(e,t,a,r,c,o){var i=Object(n["y"])("travel");return Object(n["q"])(),Object(n["e"])("div",Je,[a.travelsData.length?(Object(n["q"])(),Object(n["e"])("div",$e,[(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(a.travelsData,(function(e){return Object(n["q"])(),Object(n["e"])(i,{key:e.id,travel:e},null,8,["travel"])})),128))])):(Object(n["q"])(),Object(n["e"])("div",Xe,[ze,Ke,Ye]))])})),Ze=a("2e1b"),Qe=a.n(Ze),et=Object(n["J"])("data-v-365af443");Object(n["t"])("data-v-365af443");var tt={class:"travel__data travel__data--id"},at={class:"travel__data travel__data--name"},nt={class:"travel__data travel__data--dest"},rt={class:"travel__data travel__data--time-left"},ct={class:"travel__days-left"},ot={class:"travel__data travel__data--status"},it=Object(n["h"])("div",{class:"travel__data travel__data--icon"},[Object(n["h"])("img",{alt:"Go",class:"travel__icon",src:Qe.a})],-1);Object(n["r"])();var lt=et((function(e,t,a,r,c,o){var i=Object(n["y"])("status"),l=Object(n["y"])("router-link");return Object(n["q"])(),Object(n["e"])(l,{class:"travel",to:{name:"Travel",params:{travelId:a.travel.id}}},{default:et((function(){return[Object(n["h"])("div",tt,[Object(n["h"])("span",null,"#"+Object(n["A"])(e.id),1)]),Object(n["h"])("div",at,[Object(n["h"])("span",null,Object(n["A"])(e.name),1)]),Object(n["h"])("div",nt,[Object(n["h"])("strong",null,Object(n["A"])(o.country),1)]),Object(n["h"])("div",rt,[Object(n["h"])("span",ct,Object(n["A"])(e.daysLeft),1),Object(n["g"])(" "+Object(n["A"])(e.inflect("day","days",e.daysLeft))+" to travel ",1)]),Object(n["h"])("div",ot,[Object(n["h"])(i,{status:e.status},null,8,["status"])]),it]})),_:1},8,["to"])})),ut={methods:{inflect:function(e,t,a){return 1===a?e:t}}},st=a("3865"),dt={name:"Travel",components:{Status:st["a"]},mixins:[ut,ce["a"]],props:{travel:{required:!0,type:Object}},data:function(){return Object(l["a"])({},this.travel)},computed:{country:function(){return this.countries[this.destination]}}};a("27b2");dt.render=lt,dt.__scopeId="data-v-365af443";var bt=dt,ft={name:"TravelsList",components:{Travel:bt},props:{travelsData:{required:!0,type:Array}}};a("8d44");ft.render=We,ft.__scopeId="data-v-143e8bba";var Ot=ft,mt={name:"Home",components:{HomeFooter:ye,HomeHeader:Ne,TravelsList:Ot},data:function(){return{filterByNextMonth:!1,filterValue:void 0}},beforeMount:function(){window.addEventListener("afterprint",this.togglePrintingMode)},beforeUnmount:function(){window.removeEventListener("afterprint",this.togglePrintingMode)},computed:Object(l["a"])(Object(l["a"])({},Object(u["d"])(["travelsData"])),{},{filteredTravelsData:function(){var e=this.filterValue,t=this.filterByNextMonth,a=this.travelsData;if(t){var n=(new Date).getMonth(),r=(new Date).setMonth(n+1),c=new Date(r).toLocaleString("en-US",{month:"2-digit",year:"numeric"});return a.filter((function(e){var t=new Date(e.startDate).toLocaleString("en-US",{month:"2-digit",year:"numeric"});return t===c}))}return e?a.filter((function(t){return t.status===e})):a}}),methods:Object(l["a"])(Object(l["a"])({},Object(u["c"])(["TOGGLE_BASE_MODAL"])),{},{printMonthPlan:function(){this.togglePrintingMode(),this.filteredTravelsData.length?setTimeout((function(){return window.print()}),0):(this.togglePrintingMode(),this.TOGGLE_BASE_MODAL({buttonResolve:"Ok",text:"Please add your travels first",title:"There are nothing to print"}))},setFilterValue:function(e){this.filterValue=e},togglePrintingMode:function(){this.filterByNextMonth=!this.filterByNextMonth}})};mt.render=Oe;var vt=mt,jt=[{path:"/",name:"Home",component:vt,meta:{auth:!0}},{path:"/travel/:travelId",name:"Travel",component:function(){return a.e("chunk-5523f488").then(a.bind(null,"4696"))},meta:{auth:!0}},{path:"/about",name:"About",component:function(){return a.e("chunk-6ea8a0f8").then(a.bind(null,"f820"))},meta:{auth:!0}},{path:"/login",name:"Login",component:function(){return a.e("chunk-2d2086b7").then(a.bind(null,"a55b"))},meta:{auth:!1}},{path:"/sign-up",name:"SignUp",component:function(){return a.e("chunk-1c1b3664").then(a.bind(null,"5c9c"))},meta:{auth:!1}}],ht=Object(de["a"])({history:Object(de["b"])(),routes:jt});ht.beforeEach((function(e,t,a){var n=!e.meta.auth,r=!1;try{r=JSON.parse(localStorage.getItem("isAuthenticated"))}catch(c){console.error(c)}n||r?n&&r?a({name:"Home"}):a():a({name:"Login"})}));var pt=ht,_t=(a("7db0"),a("159b"),"current"),gt="error",Et="next",yt="past",Tt=function(e,t){switch(!0){case e<0&&t>0:return _t;case e<0:return yt;case e>0:return Et;default:return gt}},At=function(e){return Math.round(e/864e5)},Mt=function(e,t){var a=new Date,n=new Date(e)-a,r=new Date(t)-a.setHours(0,0,0,0),c=Tt(n,r),o=c===Et?At(n):0;return{daysLeft:o,status:c}},Lt=Mt,Dt=Object(u["a"])({state:{baseModal:null,isAuthenticated:!1,me:null,mobileMenu:!1,travelCurrent:null,travelFormModal:!1,travelsData:[]},mutations:{ADD_TRAVEL_DATA:function(e,t){e.travelsData.push(t)},CLEAR_TRAVELS_DATA:function(e){e.travelCurrent=null,e.travelsData=[]},REMOVE_TRAVEL_RECORD:function(e,t){e.travelsData=e.travelsData.filter((function(e){var a=e.docId;return a!==t}))},SET_CURRENT_TRAVEL:function(e,t){e.travelCurrent=t?e.travelsData.find((function(e){var a=e.id;return a===t})):null},TOGGLE_BASE_MODAL:function(e,t){e.baseModal=t},TOGGLE_TRAVEL_FORM_MODAL:function(e){e.travelFormModal=!e.travelFormModal},TOGGLE_MOBILE_MENU:function(e){e.mobileMenu=!e.mobileMenu},UPDATE_USER:function(e,t){e.isAuthenticated=!!t,e.me=t,localStorage.setItem("isAuthenticated",e.isAuthenticated)}},actions:{CREATE_TRAVEL:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,r=s["b"].collection("travels").doc(),a.next=4,r.set(t);case 4:return a.next=6,n("GET_TRAVELS");case 6:case"end":return a.stop()}}),a)})))()},GET_TRAVELS:function(e){return Object(ne["a"])(regeneratorRuntime.mark((function t(){var a,n,r,c,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.state,r=n.me,c=n.travelsData,o=s["b"].collection("travels"),t.next=5,o.where("author","==",r.uid).get();case 5:i=t.sent,i.forEach((function(e){var t=c.some((function(t){var a=t.docId;return a===e.id}));if(!t){var n={comment:e.data().comment,destination:e.data().destination,docId:e.id,endDate:e.data().endDate,id:e.data().id,name:e.data().name,startDate:e.data().startDate};a("ADD_TRAVEL_DATA",Object(l["a"])(Object(l["a"])({},n),Lt(n.startDate,n.endDate)))}}));case 7:case"end":return t.stop()}}),t)})))()},DESTROY_TRAVEL:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=s["b"].collection("travels").doc(t),a.next=4,r.delete();case 4:n("REMOVE_TRAVEL_RECORD",t);case 5:case"end":return a.stop()}}),a)})))()},TERMINATE_SESSION:function(e){var t=e.commit;t("CLEAR_TRAVELS_DATA"),t("UPDATE_USER",null)},TOGGLE_TRAVEL_FORM_MODAL:function(e){var t=e.commit,a=e.state,n=a.travelFormModal?"remove":"add";window.scrollTo(0,0),document.documentElement.classList[n]("no-scroll"),t("TOGGLE_TRAVEL_FORM_MODAL")},UPDATE_TRAVEL:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function a(){var n,r,c,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,c=t.data,o=t.docId,i=s["b"].collection("travels").doc(o),a.next=5,i.update(c);case 5:return n("REMOVE_TRAVEL_RECORD",o),a.next=8,r("GET_TRAVELS");case 8:n("SET_CURRENT_TRAVEL",c.id);case 9:case"end":return a.stop()}}),a)})))()}},modules:{}});Object(n["d"])(se).use(Dt).use(pt).mount("#app")},"6e34":function(e,t,a){},"74b9":function(e,t,a){},"7a0f":function(e,t,a){e.exports=a.p+"img/icon-print.9fe39a14.svg"},"7b23":function(e,t,a){},8129:function(e,t,a){"use strict";a("74b9")},"8d44":function(e,t,a){"use strict";a("aa81")},"9d06":function(e,t,a){"use strict";a("28ce")},"9fc1":function(e,t,a){},a3b7:function(e,t,a){e.exports=a.p+"img/icon-plus.70fcb010.svg"},aa81:function(e,t,a){},aa813:function(e,t,a){"use strict";a("6e34")},b170:function(e,t,a){"use strict";a("271d")},b7cf:function(e,t,a){"use strict";a("7b23")},c0af:function(e,t,a){},c18b:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return f}));a("b0c0");var n=a("7a23"),r=Object(n["J"])("data-v-63ec0f56");Object(n["t"])("data-v-63ec0f56");var c={class:"form-control"};Object(n["r"])();var o=r((function(e,t,a,r,o,i){return Object(n["q"])(),Object(n["e"])("div",c,[a.label&&a.name?(Object(n["q"])(),Object(n["e"])("label",{key:0,class:"form-label",for:a.name},Object(n["A"])(a.label),9,["for"])):Object(n["f"])("",!0),Object(n["x"])(e.$slots,"default",{},void 0,!0)])})),i={name:"FormControl",props:{label:{required:!1,type:String},name:{required:!1,type:String}}};a("4082");i.render=o,i.__scopeId="data-v-63ec0f56";var l=i,u=Object(n["J"])("data-v-cb79d50c");Object(n["t"])("data-v-cb79d50c");var s={class:"form-row"};Object(n["r"])();var d=u((function(e,t){return Object(n["q"])(),Object(n["e"])("div",s,[Object(n["x"])(e.$slots,"default",{},void 0,!0)])}));a("b170");const b={};b.render=d,b.__scopeId="data-v-cb79d50c";var f=b},cf05:function(e,t,a){e.exports=a.p+"img/logo.a5de5a00.png"},cf59:function(e,t,a){},d94a:function(e,t,a){},dbad:function(e,t,a){"use strict";t["a"]={data:function(){return{countries:{bt:"Bhutan",co:"Colombia",gr:"Greece",in:"India",id:"Indonesia",ie:"Ireland",il:"Israel",it:"Italy",jm:"Jamaica",jp:"Japan",my:"Malaysia",mx:"Mexico",nz:"New Zealand",pe:"Peru",pt:"Portugal",za:"South Africa",lk:"Sri Lanka",th:"Thailand",tr:"Turkey",vn:"Vietnam"}}}}},dc59:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var n=a("260b"),r=(a("ea7b"),a("e71f"),n["a"].initializeApp({apiKey:"AIzaSyAnqXy7msjL0k_X41ynYrPXXeCXlyEyDrs",authDomain:"travel-planner-f15f8.firebaseapp.com",projectId:"travel-planner-f15f8",storageBucket:"travel-planner-f15f8.appspot.com",messagingSenderId:"785745224975",appId:"1:785745224975:web:198a0594bceb4af7758a7a"})),c=r.firestore();t["a"]=r},e9af:function(e,t,a){},f8ce:function(e,t,a){"use strict";a("e9af")},fe83:function(e,t,a){"use strict";a("9fc1")}});
//# sourceMappingURL=app.d80e13eb.js.map